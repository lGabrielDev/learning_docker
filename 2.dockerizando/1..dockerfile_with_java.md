<!-- title -->
<h1 align="center">Dockerfile</h1>

## O que √© um Dockerfile?
√â o arquivo que vamos usar para criar nossa docker image. Aqui, vamos informar todas as instru√ß√µes de como nosso container deve se comportar. Por convens√£o, esse arquivo √© chamado de `Dockerfile`.

‚ö†Ô∏è Esse arquivo `Dockerfile` n√£o possui extension (.txt, .exe, .pdf, etc...).


<hr>
<br>

## Commands de um Dockerfile ARRUMARRRRRRR DE FORMA SIMPLES

Os commands mais usados s√£o:

- `FROM` --> Informamos a image base que vamos usar para construir nossa image (Geralmente √© o primeiro command).

<br>

- `RUN` --> Executamos commands no terminal do container durante a constru√ß√£o da image. Geralmente usamos para instalar pacotes.

<br>

- `WORKDIR` --> Setamos o diret√≥rio padr√£o desse container. Isso quer dizer que todos os commands que usarmos, `COPY`, `RUN`, or ,`CMD`, vao fazer referencia a esse diret√≥rio.

<br>

- `COPY` --> Copiamos os arquivos/diretorios do computador local para o container.

<br>

- `EXPOSE` --> Informamos a porta que o container vai expor. √â atrav√©s dessa porta que conseguimos acessar esse container.

<br>

- `ENV` --> Setamos nossas environment variables (vari√°veis de ambiente).

<br>

- `CMD` --> Command que vai ser executado assim que o container for iniciado.

<br>

E por fim, constru√≠mos nossa docker image utilizando o `docker build -t image_tal:version33 ./`;

<hr>
<br>

## Por qu√™ alguns containers permanecem em execu√ß√£o e outros fecham?


blablablalba


<hr>
<br>



## Criando um Dockerfile com openJDK (Java):
Crie um Dockerfile contendo apenas o openJDK (java). Ou seja, um container contendo apenas o java instalado.

<br>

### Criando um programa simples, sem interacao
Neste exemplo, nosso programa Java n√£o receber√° entrada do usu√°rio e n√£o ter√° intera√ß√£o.


1. Criamos nosso programinha em Java

    ```java
    public class AppInsano{
        public static void main(String[] args){
            System.out.println("Salve Docker!!");
        }
    }
    ```

<br>

2. Criamos nosso Dockerfile

    ```Dockerfile
    # usamos a imagem base do openjdk
    FROM openjdk:8

    # definimos a pasta padrao do container. Todos os commandos vao referenciar essa pasta
    WORKDIR /diretorioPadrao

    # copiamos todos os arquvos do nosso computador para o container
    COPY . .

    # Executamos todas as configs para nossa aplicacao funcionar. Nesse caso, compilamos o arquivo ".java" em um arquivo ".class (execut√°vel)"
    RUN ["javac", "AppInsano.java"]

    # Esse eh o command que vai ser executado quando rodarmos o container.
    CMD ["java", "AppInsano"]

    ```
<br>

2. Buildamos nossa docker image

    ```bash
    docker build -t java_sem_interacao:version1 ./; # -t √© a tag/nome da imagem
    # O command docker build automaticamente procura por um arquivo "DockerFile"
    ```

<br>

3. Criamos e rodamos nosso container

    ```bash
    docker run --name 'containerInsano' 1bbd2f5f705f;
    ```

<br>
<br>

### Criando um programa com interacao do usuario (`-it`)
Aqui, nosso programinha em Java vai receber input do usuario pelo terminal.

1. Criamos nosso programinha em java

    ```java
    public class AppInsano{
        public static void main(String[] args){
            Scanner scan = new Scanner(System.in);
            String name = "";
            
            System.out.print("Digite seu nome: ");
            name = scan.nextLine();
            System.out.println(String.format("%s √© um nome muito insano!", name));

            scan.close();
        }
    }
    ```
<br>

2. Buildamos nossa docker image

    ```bash
    docker build -t java_com_interacao:version1 ./; # -t √© o nome/tag da image
    ```

<br>

3. Criamos e rodamos nosso container interativo:

    ```bash
    docker run --name 'containerInsano2' -it db9077165f69;
    ```

üí° Se ligou?? Se seu programa em Java precisar de input do usuario, voce ativa a interatividade `-it`.