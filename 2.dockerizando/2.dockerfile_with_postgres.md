<!-- title -->
<h1 align="center">Criando um container com postgres</h1>

Para o PostgreSQL, geralmente nÃ£o Ã© necessÃ¡rio criar um Dockerfile personalizado, pois a imagem oficial do PostgreSQL jÃ¡ estÃ¡ disponÃ­vel e Ã© bem configurada para a maioria dos casos de uso. VocÃª pode simplesmente baixar a imagem oficial do Docker Hub e criar um container a partir dela.

1. Baixar uma image do postgres

    ```bash
    docker pull postgres:latest; # ou alpine (versao mais leve)
    ```

<br>
<br>

2. Criar e rodar nosso container postgres

    ```bash
    docker run --name containerPostgres -p 8080:5432 -d -e POSTGRES_PASSWORD=111 d957f100ceec;
    ```

    - `docker run` --> vamos criar e rodar um container
    - `--name` --> Setamos o nome do container
    - `-p` --> Conectamos uma porta local da nossa mÃ¡quina com a porta exposta do container (Por padrao a porta do postgres Ã© a **5432**)
    - `-e` --> Setamos o valor da environment variable, que no caso Ã© a senha do banco

<br>
<br>

3. Acessamos o terminal do container

    ```bash
    docker exec -it containerPostgres bin/bash;
    ```
ğŸ“– Para acessar o terminal de um container que estÃ¡ rodando, nÃ³s usamos o command `docker exec -it`.


- `docker exec -it containerPostgres ls -lht;` --> Executamos um unico command no container
- `docker exec -it containerPostgres bin/bash;` --> Abrimos o terminal do container

<br>
<br>

4. Pronto. Agora que estamos dentro do terminal do container, conseguimos usar o famoso `psql` command para acessar o banco de dados postgres.

    ```bash
    psql -h localhost -p 5432 -U postgres;
    ```

    
    

<br>
<br>


Agora Ã© sÃ³ criar as data bases e as tables. ğŸ˜

âš ï¸ Importante lembrar que sempre que vocÃª quiser conectar o banco de dados do container com algum serviÃ§o da sua mÃ¡quina local, **vocÃª precisa informar a porta local** que faz conexÃ£o com o container. Nesse caso, a porta **8080 local** se conecta com a **5432 do container**.

<br>

ğŸ“– Sempre que removemos um container, as databases / tables / dados sÃ£o deletados. Para continuarmos com esses dados, mesmo apÃ³s deletar um container, precisamos trabalhar com **volumes**.